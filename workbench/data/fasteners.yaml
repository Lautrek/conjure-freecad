# Fastener standards for metric bolts, screws, and nuts
# All dimensions in millimeters
#
# Key formulas:
#   thread_pitch = standard pitch for size (coarse thread)
#   head_height = typically 0.7 * nominal_diameter for hex bolts
#   nut_height = typically 0.8 * nominal_diameter
#   washer_od = typically 2 * nominal_diameter
#
# Standards referenced:
#   ISO 4762 - Socket head cap screws
#   ISO 4014 - Hex head bolts
#   ISO 4032 - Hex nuts
#   DIN 912 - Socket head cap screws (legacy)

formulas:
  # Metric coarse thread pitch by nominal diameter
  thread_pitch_coarse:
    description: "Standard coarse thread pitch for metric fasteners"
    formula: "lookup table by nominal diameter"
    values:
      M2: 0.4
      M2.5: 0.45
      M3: 0.5
      M4: 0.7
      M5: 0.8
      M6: 1.0
      M8: 1.25
      M10: 1.5
      M12: 1.75
      M14: 2.0
      M16: 2.0
      M20: 2.5

  # Tap drill size = nominal - pitch
  tap_drill:
    description: "Tap drill diameter = nominal_diameter - thread_pitch"
    formula: "D_tap = D_nominal - P"

  # Thread engagement depth (minimum recommended)
  thread_engagement:
    description: "Minimum thread engagement for full strength"
    formula: "L_engage = 1.5 * D_nominal (for steel in steel)"
    material_factors:
      steel_steel: 1.5
      steel_aluminum: 2.0
      steel_plastic: 2.5

fasteners:
  # ============================================================
  # SOCKET HEAD CAP SCREWS (ISO 4762 / DIN 912)
  # ============================================================

  m3_socket_head:
    type: socket_head_cap_screw
    standard: ISO_4762
    nominal_diameter_mm: 3.0
    thread_pitch_mm: 0.5
    head_diameter_mm: 5.5
    head_height_mm: 3.0
    socket_size_mm: 2.5
    socket_type: hex
    description: "M3 socket head cap screw (Allen bolt)"
    common_lengths_mm: [6, 8, 10, 12, 16, 20, 25, 30]
    clearance_hole_mm: 3.4
    counterbore_diameter_mm: 6.5
    counterbore_depth_mm: 3.0
    use_cases:
      - "Electronics enclosures"
      - "Small mechanisms"
      - "3D printer parts"

  m4_socket_head:
    type: socket_head_cap_screw
    standard: ISO_4762
    nominal_diameter_mm: 4.0
    thread_pitch_mm: 0.7
    head_diameter_mm: 7.0
    head_height_mm: 4.0
    socket_size_mm: 3.0
    socket_type: hex
    description: "M4 socket head cap screw (Allen bolt)"
    common_lengths_mm: [8, 10, 12, 16, 20, 25, 30, 35, 40]
    clearance_hole_mm: 4.5
    counterbore_diameter_mm: 8.0
    counterbore_depth_mm: 4.0
    use_cases:
      - "General mechanical assembly"
      - "Camera mounts"
      - "Small machine parts"

  m5_socket_head:
    type: socket_head_cap_screw
    standard: ISO_4762
    nominal_diameter_mm: 5.0
    thread_pitch_mm: 0.8
    head_diameter_mm: 8.5
    head_height_mm: 5.0
    socket_size_mm: 4.0
    socket_type: hex
    description: "M5 socket head cap screw (Allen bolt)"
    common_lengths_mm: [10, 12, 16, 20, 25, 30, 35, 40, 50]
    clearance_hole_mm: 5.5
    counterbore_diameter_mm: 9.5
    counterbore_depth_mm: 5.0
    use_cases:
      - "Furniture assembly (IKEA standard)"
      - "Bicycle components"
      - "Medium mechanical assemblies"

  m6_socket_head:
    type: socket_head_cap_screw
    standard: ISO_4762
    nominal_diameter_mm: 6.0
    thread_pitch_mm: 1.0
    head_diameter_mm: 10.0
    head_height_mm: 6.0
    socket_size_mm: 5.0
    socket_type: hex
    description: "M6 socket head cap screw (Allen bolt)"
    common_lengths_mm: [10, 12, 16, 20, 25, 30, 40, 50, 60]
    clearance_hole_mm: 6.6
    counterbore_diameter_mm: 11.0
    counterbore_depth_mm: 6.0
    use_cases:
      - "Structural assemblies"
      - "Machine frames"
      - "Heavy-duty fixtures"

  m8_socket_head:
    type: socket_head_cap_screw
    standard: ISO_4762
    nominal_diameter_mm: 8.0
    thread_pitch_mm: 1.25
    head_diameter_mm: 13.0
    head_height_mm: 8.0
    socket_size_mm: 6.0
    socket_type: hex
    description: "M8 socket head cap screw (Allen bolt)"
    common_lengths_mm: [16, 20, 25, 30, 40, 50, 60, 70, 80]
    clearance_hole_mm: 9.0
    counterbore_diameter_mm: 14.5
    counterbore_depth_mm: 8.0
    use_cases:
      - "Heavy machinery"
      - "Structural connections"
      - "Automotive applications"

  m10_socket_head:
    type: socket_head_cap_screw
    standard: ISO_4762
    nominal_diameter_mm: 10.0
    thread_pitch_mm: 1.5
    head_diameter_mm: 16.0
    head_height_mm: 10.0
    socket_size_mm: 8.0
    socket_type: hex
    description: "M10 socket head cap screw (Allen bolt)"
    common_lengths_mm: [20, 25, 30, 40, 50, 60, 80, 100]
    clearance_hole_mm: 11.0
    counterbore_diameter_mm: 18.0
    counterbore_depth_mm: 10.0
    use_cases:
      - "Industrial equipment"
      - "Heavy structural work"
      - "Machine tools"

  # ============================================================
  # HEX HEAD BOLTS (ISO 4014)
  # ============================================================

  m6_hex_bolt:
    type: hex_head_bolt
    standard: ISO_4014
    nominal_diameter_mm: 6.0
    thread_pitch_mm: 1.0
    head_across_flats_mm: 10.0
    head_across_corners_mm: 11.55
    head_height_mm: 4.0
    description: "M6 hex head bolt"
    common_lengths_mm: [20, 25, 30, 40, 50, 60, 80]
    clearance_hole_mm: 6.6
    wrench_size_mm: 10.0
    use_cases:
      - "General purpose bolting"
      - "Outdoor structures"
      - "When socket access is limited"

  m8_hex_bolt:
    type: hex_head_bolt
    standard: ISO_4014
    nominal_diameter_mm: 8.0
    thread_pitch_mm: 1.25
    head_across_flats_mm: 13.0
    head_across_corners_mm: 15.01
    head_height_mm: 5.3
    description: "M8 hex head bolt"
    common_lengths_mm: [20, 25, 30, 40, 50, 60, 80, 100]
    clearance_hole_mm: 9.0
    wrench_size_mm: 13.0
    use_cases:
      - "Structural connections"
      - "Automotive"
      - "Heavy equipment"

  m10_hex_bolt:
    type: hex_head_bolt
    standard: ISO_4014
    nominal_diameter_mm: 10.0
    thread_pitch_mm: 1.5
    head_across_flats_mm: 17.0
    head_across_corners_mm: 19.6
    head_height_mm: 6.4
    description: "M10 hex head bolt"
    common_lengths_mm: [25, 30, 40, 50, 60, 80, 100, 120]
    clearance_hole_mm: 11.0
    wrench_size_mm: 17.0
    use_cases:
      - "Heavy machinery"
      - "Construction"
      - "Industrial applications"

  m12_hex_bolt:
    type: hex_head_bolt
    standard: ISO_4014
    nominal_diameter_mm: 12.0
    thread_pitch_mm: 1.75
    head_across_flats_mm: 19.0
    head_across_corners_mm: 21.9
    head_height_mm: 7.5
    description: "M12 hex head bolt"
    common_lengths_mm: [30, 40, 50, 60, 80, 100, 120, 150]
    clearance_hole_mm: 14.0
    wrench_size_mm: 19.0
    use_cases:
      - "Structural steel"
      - "Heavy equipment"
      - "Bridge construction"

  # ============================================================
  # HEX NUTS (ISO 4032)
  # ============================================================

  m3_hex_nut:
    type: hex_nut
    standard: ISO_4032
    nominal_diameter_mm: 3.0
    thread_pitch_mm: 0.5
    across_flats_mm: 5.5
    across_corners_mm: 6.35
    height_mm: 2.4
    description: "M3 hex nut"
    use_cases:
      - "Electronics"
      - "Small mechanisms"

  m4_hex_nut:
    type: hex_nut
    standard: ISO_4032
    nominal_diameter_mm: 4.0
    thread_pitch_mm: 0.7
    across_flats_mm: 7.0
    across_corners_mm: 8.08
    height_mm: 3.2
    description: "M4 hex nut"
    use_cases:
      - "General purpose"
      - "Light mechanical"

  m5_hex_nut:
    type: hex_nut
    standard: ISO_4032
    nominal_diameter_mm: 5.0
    thread_pitch_mm: 0.8
    across_flats_mm: 8.0
    across_corners_mm: 9.24
    height_mm: 4.0
    description: "M5 hex nut"
    use_cases:
      - "Furniture"
      - "Medium mechanical"

  m6_hex_nut:
    type: hex_nut
    standard: ISO_4032
    nominal_diameter_mm: 6.0
    thread_pitch_mm: 1.0
    across_flats_mm: 10.0
    across_corners_mm: 11.55
    height_mm: 5.0
    description: "M6 hex nut"
    use_cases:
      - "Structural"
      - "General purpose"

  m8_hex_nut:
    type: hex_nut
    standard: ISO_4032
    nominal_diameter_mm: 8.0
    thread_pitch_mm: 1.25
    across_flats_mm: 13.0
    across_corners_mm: 15.01
    height_mm: 6.5
    description: "M8 hex nut"
    use_cases:
      - "Heavy mechanical"
      - "Automotive"

  m10_hex_nut:
    type: hex_nut
    standard: ISO_4032
    nominal_diameter_mm: 10.0
    thread_pitch_mm: 1.5
    across_flats_mm: 17.0
    across_corners_mm: 19.6
    height_mm: 8.0
    description: "M10 hex nut"
    use_cases:
      - "Industrial"
      - "Heavy structural"

  m12_hex_nut:
    type: hex_nut
    standard: ISO_4032
    nominal_diameter_mm: 12.0
    thread_pitch_mm: 1.75
    across_flats_mm: 19.0
    across_corners_mm: 21.9
    height_mm: 10.0
    description: "M12 hex nut"
    use_cases:
      - "Construction"
      - "Heavy equipment"

  # ============================================================
  # FLAT WASHERS (ISO 7089)
  # ============================================================

  m3_flat_washer:
    type: flat_washer
    standard: ISO_7089
    nominal_diameter_mm: 3.0
    inner_diameter_mm: 3.2
    outer_diameter_mm: 7.0
    thickness_mm: 0.5
    description: "M3 flat washer"
    use_cases:
      - "Load distribution"
      - "Surface protection"

  m4_flat_washer:
    type: flat_washer
    standard: ISO_7089
    nominal_diameter_mm: 4.0
    inner_diameter_mm: 4.3
    outer_diameter_mm: 9.0
    thickness_mm: 0.8
    description: "M4 flat washer"
    use_cases:
      - "Load distribution"
      - "Surface protection"

  m5_flat_washer:
    type: flat_washer
    standard: ISO_7089
    nominal_diameter_mm: 5.0
    inner_diameter_mm: 5.3
    outer_diameter_mm: 10.0
    thickness_mm: 1.0
    description: "M5 flat washer"
    use_cases:
      - "Load distribution"
      - "Surface protection"

  m6_flat_washer:
    type: flat_washer
    standard: ISO_7089
    nominal_diameter_mm: 6.0
    inner_diameter_mm: 6.4
    outer_diameter_mm: 12.0
    thickness_mm: 1.6
    description: "M6 flat washer"
    use_cases:
      - "Load distribution"
      - "Surface protection"

  m8_flat_washer:
    type: flat_washer
    standard: ISO_7089
    nominal_diameter_mm: 8.0
    inner_diameter_mm: 8.4
    outer_diameter_mm: 16.0
    thickness_mm: 1.6
    description: "M8 flat washer"
    use_cases:
      - "Load distribution"
      - "Surface protection"

  m10_flat_washer:
    type: flat_washer
    standard: ISO_7089
    nominal_diameter_mm: 10.0
    inner_diameter_mm: 10.5
    outer_diameter_mm: 20.0
    thickness_mm: 2.0
    description: "M10 flat washer"
    use_cases:
      - "Load distribution"
      - "Surface protection"

  # ============================================================
  # T-NUTS AND INSERT NUTS (for 3D printing)
  # ============================================================

  m3_heat_set_insert:
    type: heat_set_insert
    nominal_diameter_mm: 3.0
    thread_pitch_mm: 0.5
    outer_diameter_mm: 4.0
    length_mm: 4.0
    hole_diameter_mm: 3.8
    installation_temp_c: 200
    description: "M3 heat-set threaded insert for 3D prints"
    use_cases:
      - "3D printed enclosures"
      - "Prototype assembly"
      - "Repeated disassembly"

  m4_heat_set_insert:
    type: heat_set_insert
    nominal_diameter_mm: 4.0
    thread_pitch_mm: 0.7
    outer_diameter_mm: 5.6
    length_mm: 5.7
    hole_diameter_mm: 5.3
    installation_temp_c: 200
    description: "M4 heat-set threaded insert for 3D prints"
    use_cases:
      - "3D printed enclosures"
      - "Prototype assembly"
      - "Repeated disassembly"

  m5_heat_set_insert:
    type: heat_set_insert
    nominal_diameter_mm: 5.0
    thread_pitch_mm: 0.8
    outer_diameter_mm: 6.4
    length_mm: 6.4
    hole_diameter_mm: 6.0
    installation_temp_c: 200
    description: "M5 heat-set threaded insert for 3D prints"
    use_cases:
      - "3D printed enclosures"
      - "Prototype assembly"
      - "Repeated disassembly"

  m3_t_nut_2020:
    type: t_nut
    nominal_diameter_mm: 3.0
    thread_pitch_mm: 0.5
    slot_width_mm: 6.0
    profile_size_mm: 20
    body_length_mm: 10.0
    body_width_mm: 5.5
    description: "M3 T-nut for 2020 aluminum extrusion"
    use_cases:
      - "2020 extrusion assemblies"
      - "3D printer frames"
      - "CNC machines"

  m4_t_nut_2020:
    type: t_nut
    nominal_diameter_mm: 4.0
    thread_pitch_mm: 0.7
    slot_width_mm: 6.0
    profile_size_mm: 20
    body_length_mm: 10.0
    body_width_mm: 5.5
    description: "M4 T-nut for 2020 aluminum extrusion"
    use_cases:
      - "2020 extrusion assemblies"
      - "3D printer frames"
      - "CNC machines"

  m5_t_nut_2020:
    type: t_nut
    nominal_diameter_mm: 5.0
    thread_pitch_mm: 0.8
    slot_width_mm: 6.0
    profile_size_mm: 20
    body_length_mm: 10.0
    body_width_mm: 5.5
    description: "M5 T-nut for 2020 aluminum extrusion"
    use_cases:
      - "2020 extrusion assemblies"
      - "3D printer frames"
      - "CNC machines"

  m5_t_nut_4040:
    type: t_nut
    nominal_diameter_mm: 5.0
    thread_pitch_mm: 0.8
    slot_width_mm: 8.0
    profile_size_mm: 40
    body_length_mm: 15.0
    body_width_mm: 7.5
    description: "M5 T-nut for 4040 aluminum extrusion"
    use_cases:
      - "4040 extrusion assemblies"
      - "Heavy-duty frames"
      - "Industrial machines"

  m6_t_nut_4040:
    type: t_nut
    nominal_diameter_mm: 6.0
    thread_pitch_mm: 1.0
    slot_width_mm: 8.0
    profile_size_mm: 40
    body_length_mm: 15.0
    body_width_mm: 7.5
    description: "M6 T-nut for 4040 aluminum extrusion"
    use_cases:
      - "4040 extrusion assemblies"
      - "Heavy-duty frames"
      - "Industrial machines"
